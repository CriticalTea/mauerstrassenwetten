<html>
  <head>
    <title>Bumsbuden Weltkarte</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart'],
      });
      google.charts.setOnLoadCallback(drawRegionsMap);

      var data = [
          ['Country', 'ISIN/WKN', 'Title', 'Description', 'Link'],
          ['South Africa', 'ZAE000320321', 'Premier Group Limited', 'Bäckereien, Mühlen und Damenhygiene-Artikel', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1cohxcy/wie_ich_einmal_fast_eine_b%C3%A4ckerei_in_s%C3%BCdafrika/'],
          ['China', 'US8552441094', 'Luckin Coffee', 'Chinesisches Starbucks das früher Anleger betrogen hat', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1b9nv70/gl%C3%BCcklicher_kaffee_sternenb%C3%B6cke_bei_wunsch/'],
          ['Kazakhstan', 'US48581R2058', 'Kaspi Bank', '', ''],
          ['Ukraine', 'GB00B1XH2C03', 'Ferrexpo PLC', 'Eisenmine', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1bhnh63/ukrainische_freiheitsaktie/'],
          ['Israel', 'IL0011766354', 'Bull Trading and Investment Ltd', 'Qualitätsbrecher', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1cemok6/dd_israelischer_qualit%C3%A4tsbrecher/'],
          ['US', 'US9892071054', 'Zebra Technologies', 'Beliebtes Sarafi-Gelände', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1ca8i4j/jagd_auf_rotes_zebra_teil_4/'],
          ['Canada', 'A1178T', 'Kinaxis Inc', 'Lieferkettenweichware', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1bnd72h/lieferkettenweichware_macht_brrr/'],
          ['Greece', '', 'Kri-Kri Milk Industry S.A.','Griechischer Joghurt', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1behrcc/griechischer_joghurt_macht_brrr/'],
          ['France', 'FR0000051732', 'ATOS', 'ATOS?', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1amjgq6/notwendige_sorgfalt_atos/'],
          ['Germany', '', 'Thyssen Krupp', 'Thyssenkrupp, oder wie ich gelernt hab die „Bruchbude“ zu lieben! ', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1amrzd9/thyssenkrupp_oder_wie_ich_gelernt_hab_die/'],
          ['Indonesia', 'ID1000060007', 'Mayora Indah', 'Süßigkeiten', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1cohxcy/comment/l3g0fja/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button'],
          // ['Cayman Islands', 'KYG237731073', 'Consolidated Water', ' Karibische Meerwasserentsalzung macht brrr', 'https://www.reddit.com/r/mauerstrassenwetten/comments/1bihbrw/karibische_meerwasserentsalzung_macht_brrr/']
      ]

      function drawRegionsMap() {
        var map_data = google.visualization.arrayToDataTable(data);

        var view = new google.visualization.DataView(map_data);
        view.setColumns([0, {
            type: 'number',
            calc: function(data, row) {
                var titleValue = data.getValue(row, 2);
                //var titleValue = data.getValue(row, 3);
                return {
                    v: 1,
                    f: titleValue 
                };
            }
        }]);
        var options = {};

        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
        google.visualization.events.addListener(chart, 'select', function() {
            var selectionIdx = chart.getSelection()[0].row;
            var title = map_data.getValue(selectionIdx, 2);
            var link = map_data.getValue(selectionIdx, 4);
            // window.open(link);
            document.getElementById("info_box").innerHTML = title + "<br/><a href=\"" + link + "\" target=\"_blank\">"+link+"</a>";
            //xconsole.log(map_data

        });
        chart.draw(view, options);
      }
      function createTable() {
          var table = document.createElement('table');
          var tableBody = document.createElement('tbody');
    
          data.forEach(function(rowData) {
              var row = document.createElement('tr');
          
              rowData.forEach(function(cellData) {
                  var cell = document.createElement('td');
                  cell.appendChild(document.createTextNode(cellData));
                  row.appendChild(cell);
              });
      
              tableBody.appendChild(row);
          });
      
          table.appendChild(tableBody);
          document.body.appendChild(table);
    }
    //createTable(data);
    </script>
  </head>
  <!-- <body onload="createTable()">  -->
  <body onload=""> 
    <h1>Bumsbuden Weltkarte</h1>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
    <div id="info_box" />
  </body>
</html>
